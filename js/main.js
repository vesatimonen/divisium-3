/*****************************************************************************
 * Level initialization
 *****************************************************************************/
function levelStart(level) {
    /* Check level value */
    if (!(level > 0)) {
        level = 0;
    }

    if (level >= gameLevels.length) {
        level = gameLevels.length - 1;
        alert("Game over!");
    }

    /* Use predefined challenges */
    game.init(level,
              gameLevels[level].info);

    /* Save game point */
    localStorage.setItem("game-level", JSON.stringify(game.level));

    /* Setup board */
    uiBoardSetup(game.board);
}

/*****************************************************************************
 * Game levels
 *****************************************************************************/
var gameLevels = [
    {info: "INFO: D07-22-07-00-00-00-00-00-00-00 T006635 #6x6=3-210210111201011111111021111121102102"},
    {info: "INFO: D08-20-08-00-00-00-00-00-00-00 T012561 #6x6=3-101201112021120101111122112001110211"},
    {info: "INFO: D09-19-07-01-00-00-00-00-00-00 T008207 #6x6=3-211111011111012101201201120012012301"},
    {info: "INFO: D10-16-10-00-00-00-00-00-00-00 T012744 #6x6=3-201210102020220111011111120121012102"},
    {info: "INFO: D10-16-10-00-00-00-00-00-00-00 T014454 #6x6=3-020110112102201111120112001201212012"},
    {info: "INFO: D10-18-06-02-00-00-00-00-00-00 T004696 #6x6=3-201210010201123003110011112021111111"},
    {info: "INFO: D11-14-11-00-00-00-00-00-00-00 T018278 #6x6=3-021210120012201202102102120111021110"},
    {info: "INFO: D11-14-11-00-00-00-00-00-00-00 T021794 #6x6=3-212021001100120211210201002112121021"},
    {info: "INFO: D12-12-12-00-00-00-00-00-00-00 T012784 #6x6=3-021210200102112022021201201011102120"},
    {info: "INFO: D12-12-12-00-00-00-00-00-00-00 T022353 #6x6=3-201021112012020122201201120021012100"},
    {info: "INFO: D12-13-10-01-00-00-00-00-00-00 T001910 #6x6=3-202102112012001211121001012030210201"},
    {info: "INFO: D12-13-10-01-00-00-00-00-00-00 T022838 #6x6=3-011111221020101200012012220120101203"},
    {info: "INFO: D13-11-11-01-00-00-00-00-00-00 T004243 #6x6=3-120020010301220101102212012102210021"},
    {info: "INFO: D14-10-10-02-00-00-00-00-00-00 T019887 #6x6=3-202010110120021201102102201201030032"},
    {info: "INFO: D16-08-08-04-00-00-00-00-00-00 T011578 #6x6=3-012012221003102121001200330030002100"},
    {info: "INFO: D16-09-06-05-00-00-00-00-00-00 T016800 #6x6=3-300102012221021011300011003320300001"},
];

/*****************************************************************************
 * Create game
 *****************************************************************************/
var game = new Game();

/*****************************************************************************
 * Start game from save point
 *****************************************************************************/
level = JSON.parse(localStorage.getItem("game-level"));
if (level > 0) {
    levelStart(level);
} else {
    levelStart(0);
}

